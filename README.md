cjr
=======

[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://github.com/gitbucket/gitbucket/blob/master/LICENSE)

[![oclif](https://img.shields.io/badge/cli-oclif-brightgreen.svg)](https://oclif.io)

cjr is a tool for running jobs in linux containers


<!-- toc -->
* [Usage](#usage)
* [Commands](#commands)
<!-- tocstop -->
# Usage
<!-- usage -->
```sh-session
$ npm install -g cjr
$ cjr COMMAND
running command...
$ cjr (-v|--version|version)
cjr/0.0.0 darwin-x64 node-v12.14.1
$ cjr --help [COMMAND]
USAGE
  $ cjr COMMAND
...
```
<!-- usagestop -->

Explain Concept of Project
Explain Concept of Stacks, and default stack folder

Set your stack using  
`export STACK=stack_name`
Set your project root folder with
`export HOSTROOT=absolute_path`
If you are already cd into the directory, then simply type
`export HOSTROOT=$(pwd)`

The most important commands are 
1. shell - starts an interactive shell in a container
2. $ command - starts a new job by running command
3. jupyter - manages jupiter server for developing in an environment with jupiter installed

# Commands
<!-- commands -->
* [`cjr $ COMMAND`](#cjr--command)
* [`cjr bundle SAVE_DIR`](#cjr-bundle-save_dir)
* [`cjr config:get [KEY]`](#cjr-configget-key)
* [`cjr config:list`](#cjr-configlist)
* [`cjr config:set [KEY] [VALUE]`](#cjr-configset-key-value)
* [`cjr help [COMMAND]`](#cjr-help-command)
* [`cjr job:attach [ID]`](#cjr-jobattach-id)
* [`cjr job:destroy [ID]`](#cjr-jobdestroy-id)
* [`cjr job:exec ID COMMAND`](#cjr-jobexec-id-command)
* [`cjr job:list`](#cjr-joblist)
* [`cjr job:log [ID]`](#cjr-joblog-id)
* [`cjr job:stop [ID]`](#cjr-jobstop-id)
* [`cjr jupyter:list`](#cjr-jupyterlist)
* [`cjr jupyter:start`](#cjr-jupyterstart)
* [`cjr jupyter:stop`](#cjr-jupyterstop)
* [`cjr result:copy ID`](#cjr-resultcopy-id)
* [`cjr result:delete [ID]`](#cjr-resultdelete-id)
* [`cjr result:list`](#cjr-resultlist)
* [`cjr result:shell [ID]`](#cjr-resultshell-id)
* [`cjr shell`](#cjr-shell)
* [`cjr stack:build`](#cjr-stackbuild)
* [`cjr stack:list`](#cjr-stacklist)
* [`cjr stack:rmi`](#cjr-stackrmi)
* [`cjr stash`](#cjr-stash)

## `cjr $ COMMAND`

Run a shell command as a new job.

```
USAGE
  $ cjr $ COMMAND

OPTIONS
  --async
  --containerRoot=containerRoot
  --explicit
  --hostRoot=hostRoot
  --port=port                    [default: ]
  --silent
  --stack=stack
  --x11
```

_See code: [src/commands/$.ts](https://github.com///blob/v0.0.0/src/commands/$.ts)_

## `cjr bundle SAVE_DIR`

bundle current configuration and files.

```
USAGE
  $ cjr bundle SAVE_DIR

OPTIONS
  --all                include project files in bundle
  --explicit
  --hostRoot=hostRoot
  --stack=stack
  --tar                produces one .tar.gz file (requires zip)
  --zip                produces one .zip file (requires gzip)
```

_See code: [src/commands/bundle.ts](https://github.com///blob/v0.0.0/src/commands/bundle.ts)_

## `cjr config:get [KEY]`

Get a CLI parameter.

```
USAGE
  $ cjr config:get [KEY]
```

_See code: [src/commands/config/get.ts](https://github.com///blob/v0.0.0/src/commands/config/get.ts)_

## `cjr config:list`

List all CLI parameters and data directories.

```
USAGE
  $ cjr config:list
```

_See code: [src/commands/config/list.ts](https://github.com///blob/v0.0.0/src/commands/config/list.ts)_

## `cjr config:set [KEY] [VALUE]`

Set a CLI parameter.

```
USAGE
  $ cjr config:set [KEY] [VALUE]
```

_See code: [src/commands/config/set.ts](https://github.com///blob/v0.0.0/src/commands/config/set.ts)_

## `cjr help [COMMAND]`

display help for cjr

```
USAGE
  $ cjr help [COMMAND]

ARGUMENTS
  COMMAND  command to show help for

OPTIONS
  --all  see all commands in CLI
```

_See code: [@oclif/plugin-help](https://github.com/oclif/plugin-help/blob/v2.2.3/src/commands/help.ts)_

## `cjr job:attach [ID]`

Attach back to the shell that is running a job.

```
USAGE
  $ cjr job:attach [ID]

OPTIONS
  --explicit
  --stack=stack
```

_See code: [src/commands/job/attach.ts](https://github.com///blob/v0.0.0/src/commands/job/attach.ts)_

## `cjr job:destroy [ID]`

Stop a job and destroy the associated result.

```
USAGE
  $ cjr job:destroy [ID]

OPTIONS
  --all
  --explicit
  --stack=stack
```

_See code: [src/commands/job/destroy.ts](https://github.com///blob/v0.0.0/src/commands/job/destroy.ts)_

## `cjr job:exec ID COMMAND`

Execute a command inside the container that is running a job.

```
USAGE
  $ cjr job:exec ID COMMAND

OPTIONS
  --async
  --explicit
  --stack=stack
```

_See code: [src/commands/job/exec.ts](https://github.com///blob/v0.0.0/src/commands/job/exec.ts)_

## `cjr job:list`

List all running jobs for a stack.

```
USAGE
  $ cjr job:list

OPTIONS
  --all
  --explicit
  --hostRoot=hostRoot
  --json
  --stack=stack
```

_See code: [src/commands/job/list.ts](https://github.com///blob/v0.0.0/src/commands/job/list.ts)_

## `cjr job:log [ID]`

Print any output generated by a job.

```
USAGE
  $ cjr job:log [ID]

OPTIONS
  --explicit
  --lines=lines  [default: 100]
  --stack=stack
```

_See code: [src/commands/job/log.ts](https://github.com///blob/v0.0.0/src/commands/job/log.ts)_

## `cjr job:stop [ID]`

Stop a running job and turn it into a result.

```
USAGE
  $ cjr job:stop [ID]

OPTIONS
  --all
  --explicit
  --stack=stack
```

_See code: [src/commands/job/stop.ts](https://github.com///blob/v0.0.0/src/commands/job/stop.ts)_

## `cjr jupyter:list`

List the url of any running jupiter servers for stack.

```
USAGE
  $ cjr jupyter:list

OPTIONS
  --explicit
  --hostRoot=hostRoot
  --stack=stack
```

_See code: [src/commands/jupyter/list.ts](https://github.com///blob/v0.0.0/src/commands/jupyter/list.ts)_

## `cjr jupyter:start`

Start Jupyter server for a stack.

```
USAGE
  $ cjr jupyter:start

OPTIONS
  --containerRoot=containerRoot
  --explicit
  --hostRoot=hostRoot
  --port=port                    [default: 8888]
  --stack=stack
  --sync
```

_See code: [src/commands/jupyter/start.ts](https://github.com///blob/v0.0.0/src/commands/jupyter/start.ts)_

## `cjr jupyter:stop`

Stop the Jupyter server for stack.

```
USAGE
  $ cjr jupyter:stop

OPTIONS
  --explicit
  --hostRoot=hostRoot
  --stack=stack
```

_See code: [src/commands/jupyter/stop.ts](https://github.com///blob/v0.0.0/src/commands/jupyter/stop.ts)_

## `cjr result:copy ID`

Copy job results back into the host directories.

```
USAGE
  $ cjr result:copy ID

OPTIONS
  --all
  --explicit
  --stack=stack
```

_See code: [src/commands/result/copy.ts](https://github.com///blob/v0.0.0/src/commands/result/copy.ts)_

## `cjr result:delete [ID]`

Permanently delete a result and all its associated data.

```
USAGE
  $ cjr result:delete [ID]

OPTIONS
  --all
  --explicit
  --stack=stack
```

_See code: [src/commands/result/delete.ts](https://github.com///blob/v0.0.0/src/commands/result/delete.ts)_

## `cjr result:list`

List all results (i.e. completed jobs) for a stack.

```
USAGE
  $ cjr result:list

OPTIONS
  --all
  --explicit
  --hostRoot=hostRoot
  --json
  --stack=stack
```

_See code: [src/commands/result/list.ts](https://github.com///blob/v0.0.0/src/commands/result/list.ts)_

## `cjr result:shell [ID]`

Start a shell inside a result. After exiting the changes will be stored as a new result

```
USAGE
  $ cjr result:shell [ID]

OPTIONS
  --discard
  --explicit
  --hostRoot=hostRoot
  --stack=stack
```

_See code: [src/commands/result/shell.ts](https://github.com///blob/v0.0.0/src/commands/result/shell.ts)_

## `cjr shell`

Start an interactive shell for developing in a stack container.

```
USAGE
  $ cjr shell

OPTIONS
  --containerRoot=containerRoot
  --explicit
  --hostRoot=hostRoot
  --port=port                    [default: ]
  --save=save                    saves new image that contains modifications
  --stack=stack
  --x11
```

_See code: [src/commands/shell.ts](https://github.com///blob/v0.0.0/src/commands/shell.ts)_

## `cjr stack:build`

Build an image cooresponding to a stack.

```
USAGE
  $ cjr stack:build

OPTIONS
  --explicit
  --hostRoot=hostRoot
  --nocache
  --silent
  --stack=stack
```

_See code: [src/commands/stack/build.ts](https://github.com///blob/v0.0.0/src/commands/stack/build.ts)_

## `cjr stack:list`

List all stacks present in the stacks path.

```
USAGE
  $ cjr stack:list

OPTIONS
  --stacks_path=stacks_path
```

_See code: [src/commands/stack/list.ts](https://github.com///blob/v0.0.0/src/commands/stack/list.ts)_

## `cjr stack:rmi`

Delete an image associated with a stack.

```
USAGE
  $ cjr stack:rmi

OPTIONS
  --explicit
  --hostRoot=hostRoot
  --silent
  --stack=stack
```

_See code: [src/commands/stack/rmi.ts](https://github.com///blob/v0.0.0/src/commands/stack/rmi.ts)_

## `cjr stash`

Save current project state as a result.

```
USAGE
  $ cjr stash

OPTIONS
  --containerRoot=containerRoot
  --explicit
  --hostRoot=hostRoot
  --silent
  --stack=stack
```

_See code: [src/commands/stash.ts](https://github.com///blob/v0.0.0/src/commands/stash.ts)_
<!-- commandsstop -->
